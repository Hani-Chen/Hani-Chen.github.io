{"meta":{"title":"Hani的博客","subtitle":"当你停下来休息时，不要忘记别人还在奔跑","description":null,"author":"Hani","url":"http://yoursite.com","root":"/"},"pages":[{"title":"","date":"2020-08-17T12:41:23.823Z","updated":"2020-08-17T12:41:23.823Z","comments":true,"path":"json/03.json","permalink":"http://yoursite.com/json/03.json","excerpt":"","text":"{\"v\":\"5.4.4\",\"fr\":24,\"ip\":0,\"op\":82,\"w\":700,\"h\":260,\"nm\":\"合成 3\",\"ddd\":0,\"assets\":[{\"id\":\"comp_0\",\"layers\":[{\"ddd\":0,\"ind\":1,\"ty\":4,\"nm\":\"“定位 2”轮廓\",\"sr\":1,\"ks\":{\"o\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":0,\"s\":[0],\"e\":[0]},{\"i\":{\"x\":[0.667],\"y\":[1]},\"o\":{\"x\":[0.333],\"y\":[0]},\"t\":1,\"s\":[0],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.333],\"y\":[0]},\"t\":17,\"s\":[100],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":65,\"s\":[100],\"e\":[0]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":78,\"s\":[0],\"e\":[0]},{\"t\":82}],\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[751.117,500.5,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[98.367,135.25,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[60,60,100],\"ix\":6}},\"ao\":0,\"shapes\":[{\"ty\":\"gr\",\"it\":[{\"ind\":0,\"ty\":\"sh\",\"ix\":1,\"ks\":{\"a\":0,\"k\":{\"i\":[[23.748,0],[0,23.748],[-23.748,0],[0,-23.748]],\"o\":[[-23.748,0],[0,-23.748],[23.748,0],[0,23.748]],\"v\":[[-0.117,3],[-43.117,-40],[-0.117,-83],[42.883,-40]],\"c\":true},\"ix\":2},\"nm\":\"路径 1\",\"mn\":\"ADBE Vector Shape - Group\",\"hd\":false},{\"ind\":1,\"ty\":\"sh\",\"ix\":2,\"ks\":{\"a\":0,\"k\":{\"i\":[[72,0],[-3,-55],[0,0],[-5,71]],\"o\":[[-57.009,0],[3.978,72.919],[0,0],[3.234,-45.93]],\"v\":[[-1.117,-135],[-95.117,-33],[0.883,135],[94.883,-28]],\"c\":true},\"ix\":2},\"nm\":\"路径 2\",\"mn\":\"ADBE Vector Shape - Group\",\"hd\":false},{\"ty\":\"mm\",\"mm\":1,\"nm\":\"合并路径 1\",\"mn\":\"ADBE Vector Filter - Merge\",\"hd\":false},{\"ty\":\"fl\",\"c\":{\"a\":0,\"k\":[1,1,1,1],\"ix\":4},\"o\":{\"a\":0,\"k\":100,\"ix\":5},\"r\":1,\"bm\":0,\"nm\":\"填充 1\",\"mn\":\"ADBE Vector Graphic - Fill\",\"hd\":false},{\"ty\":\"tr\",\"p\":{\"a\":0,\"k\":[98.367,135.25],\"ix\":2},\"a\":{\"a\":0,\"k\":[0,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[100,100],\"ix\":3},\"r\":{\"a\":0,\"k\":0,\"ix\":6},\"o\":{\"a\":0,\"k\":100,\"ix\":7},\"sk\":{\"a\":0,\"k\":0,\"ix\":4},\"sa\":{\"a\":0,\"k\":0,\"ix\":5},\"nm\":\"变换\"}],\"nm\":\"组 1\",\"np\":4,\"cix\":2,\"bm\":0,\"ix\":1,\"mn\":\"ADBE Vector Group\",\"hd\":false}],\"ip\":0,\"op\":960,\"st\":0,\"bm\":0},{\"ddd\":0,\"ind\":2,\"ty\":1,\"nm\":\"上线\",\"sr\":1,\"ks\":{\"o\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":0,\"s\":[0],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":1,\"s\":[100],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":65,\"s\":[100],\"e\":[0]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":78,\"s\":[0],\"e\":[0]},{\"t\":82}],\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[1057,422,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[350,1,0],\"ix\":1},\"s\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.833,0.833,0.833],\"y\":[0.833,0.833,0.833]},\"o\":{\"x\":[0.167,0.167,0.167],\"y\":[0.167,0.167,0.167]},\"t\":1,\"s\":[0,100,100],\"e\":[47,100,100]},{\"t\":14}],\"ix\":6}},\"ao\":0,\"sw\":700,\"sh\":2,\"sc\":\"#ffffff\",\"ip\":0,\"op\":120,\"st\":0,\"bm\":0},{\"ddd\":0,\"ind\":3,\"ty\":5,\"nm\":\"文字标题\",\"sr\":1,\"ks\":{\"o\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":0,\"s\":[0],\"e\":[0]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":1,\"s\":[0],\"e\":[0]},{\"i\":{\"x\":[0.833],\"y\":[0.833]},\"o\":{\"x\":[0.39],\"y\":[0]},\"t\":9,\"s\":[0],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.39],\"y\":[0]},\"t\":19,\"s\":[100],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":65,\"s\":[100],\"e\":[0]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":78,\"s\":[0],\"e\":[0]},{\"t\":82}],\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[906.309,498.693,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[3.809,-26.807,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[100,100,100],\"ix\":6}},\"ao\":0,\"t\":{\"d\":{\"k\":[{\"s\":{\"s\":75,\"f\":\"SimHei\",\"t\":\"文字标题\",\"j\":0,\"tr\":0,\"lh\":90,\"ls\":0,\"fc\":[1,1,1]},\"t\":0}]},\"p\":{},\"m\":{\"g\":1,\"a\":{\"a\":0,\"k\":[0,0],\"ix\":2}},\"a\":[]},\"ip\":0,\"op\":120,\"st\":0,\"bm\":0},{\"ddd\":0,\"ind\":4,\"ty\":1,\"nm\":\"下线\",\"sr\":1,\"ks\":{\"o\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":0,\"s\":[0],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":1,\"s\":[100],\"e\":[100]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":65,\"s\":[100],\"e\":[0]},{\"i\":{\"x\":[0.833],\"y\":[1]},\"o\":{\"x\":[0.167],\"y\":[0]},\"t\":78,\"s\":[0],\"e\":[0]},{\"t\":82}],\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[1057,578,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[350,1,0],\"ix\":1},\"s\":{\"a\":1,\"k\":[{\"i\":{\"x\":[0.833,0.833,0.833],\"y\":[0.833,0.833,0.833]},\"o\":{\"x\":[0.167,0.167,0.167],\"y\":[0.167,0.167,0.167]},\"t\":1,\"s\":[0,100,100],\"e\":[47,100,100]},{\"t\":14}],\"ix\":6}},\"ao\":0,\"sw\":700,\"sh\":2,\"sc\":\"#ffffff\",\"ip\":0,\"op\":120,\"st\":0,\"bm\":0}]}],\"fonts\":{\"list\":[{\"origin\":0,\"fPath\":\"\",\"fClass\":\"\",\"fFamily\":\"SimHei\",\"fWeight\":\"\",\"fStyle\":\"Regular\",\"fName\":\"SimHei\",\"ascent\":66.8960571289063}]},\"layers\":[{\"ddd\":0,\"ind\":1,\"ty\":0,\"nm\":\"03定位2\",\"refId\":\"comp_0\",\"sr\":1,\"ks\":{\"o\":{\"a\":0,\"k\":100,\"ix\":11},\"r\":{\"a\":0,\"k\":0,\"ix\":10},\"p\":{\"a\":0,\"k\":[350,170,0],\"ix\":2},\"a\":{\"a\":0,\"k\":[960,540,0],\"ix\":1},\"s\":{\"a\":0,\"k\":[100,100,100],\"ix\":6}},\"ao\":0,\"w\":192,\"h\":108,\"ip\":0,\"op\":120,\"st\":0,\"bm\":0}],\"markers\":[]}"},{"title":"","date":"2020-06-30T04:15:56.952Z","updated":"2020-06-30T04:15:56.952Z","comments":true,"path":"js/jquery.js","permalink":"http://yoursite.com/js/jquery.js","excerpt":"","text":"/*! * jQuery JavaScript Library v3.5.1 * https://jquery.com/ * * Includes Sizzle.js * https://sizzlejs.com/ * * Copyright JS Foundation and other contributors * Released under the MIT license * https://jquery.org/license * * Date: 2020-05-04T22:49Z */ ( function( global, factory ) { \"use strict\"; if ( typeof module === \"object\" && typeof module.exports === \"object\" ) { // For CommonJS and CommonJS-like environments where a proper `window` // is present, execute the factory and get jQuery. // For environments that do not have a `window` with a `document` // (such as Node.js), expose a factory as module.exports. // This accentuates the need for the creation of a real `window`. // e.g. var jQuery = require(\"jquery\")(window); // See ticket #14549 for more info. module.exports = global.document ? factory( global, true ) : function( w ) { if ( !w.document ) { throw new Error( \"jQuery requires a window with a document\" ); } return factory( w ); }; } else { factory( global ); } // Pass this if window is not defined yet } )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) { // Edge"},{"title":"","date":"2020-07-25T10:35:26.522Z","updated":"2020-07-25T10:35:26.522Z","comments":true,"path":"js/lottie.js","permalink":"http://yoursite.com/js/lottie.js","excerpt":"","text":"(typeof navigator !== \"undefined\") && (function(root, factory) { if (typeof define === \"function\" && define.amd) { define(function() { return factory(root); }); } else if (typeof module === \"object\" && module.exports) { module.exports = factory(root); } else { root.lottie = factory(root); root.bodymovin = root.lottie; } }((window || {}), function(window) { \"use strict\"; var svgNS = \"http://www.w3.org/2000/svg\"; var locationHref = ''; var initialDefaultFrame = -999999; var subframeEnabled = true; var expressionsPlugin; var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent); var cachedColors = {}; var bm_rounder = Math.round; var bm_rnd; var bm_pow = Math.pow; var bm_sqrt = Math.sqrt; var bm_abs = Math.abs; var bm_floor = Math.floor; var bm_max = Math.max; var bm_min = Math.min; var blitter = 10; var BMMath = {}; (function(){ var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"]; var i, len = propertyNames.length; for(i=0;i"}],"posts":[{"title":"小程序首页其他组件显示首页弹窗","slug":"appletModelCallingMethod","date":"2020-08-17T13:25:10.000Z","updated":"2020-08-17T14:09:50.027Z","comments":true,"path":"2020/08/17/appletModelCallingMethod/","link":"","permalink":"http://yoursite.com/2020/08/17/appletModelCallingMethod/","excerpt":"","text":"主要介绍，小程序调用弹窗组件后，需要在首页其他组件操作弹窗显示时，和弹窗自身关闭的逻辑我们一起看看首页的部分源代码 wxml页面的页面结构123456&lt;view class=\"page-home\"&gt; &lt;!-- 公共组件 - 需要调用弹窗显示隐藏的组件 --&gt; &lt;pageModel bind:showSubscribe=\"showSubscribe\"&gt;&lt;/pageModel&gt; &lt;!-- 公共组件 - 预约提示弹窗 --&gt; &lt;popText popData=\"&#123;&#123;popData&#125;&#125;\"&gt;&lt;/popText&gt;&lt;/view&gt; 解读一下代码 首先 我们需要在调用弹窗显示的组件上绑定一个方法 【showSubscribe】这个方法来自首页的js方法里面 其次我们要给需要被控制显示隐藏的弹窗传一个显示隐藏的变量 js代码1234567891011/* 控制弹窗显示隐藏的变量 */popData: &#123; isShow: false&#125;/* 触发显示弹窗的方法 - 也是绑定在组件上的方法 */showSubscribe: function () &#123; this.setData(&#123; 'popData.isShow': true &#125;)&#125; 下面我们看你一下需要调用弹窗显示组件的代码 首先看看需要调用弹窗显示组件的wxml页面，触发显示弹窗的按钮12&lt;!-- 点击显示弹窗 --&gt;&lt;button bindtap=\"showPop\"&gt;显示弹窗&lt;/button&gt; 一起看看js的事件12345678910/** * 组件的方法列表 */methods: &#123; /* 在按钮上绑定的事件 */ showPop() &#123; // 调用一遍首页传过来的数据 this.triggerEvent('showSubscribe', true); &#125;,&#125;, 我们再看看弹窗自身的代码 首先我们看看通过变量显示弹窗的wxml123456789&lt;!-- 弹窗主体 --&gt;&lt;view class=\"modal\" wx:if=\"&#123;&#123;popData.isShow&#125;&#125;\"&gt; &lt;!-- 关闭按钮 --&gt; &lt;view class=\"modal-bg modal-close\"&gt;&lt;/view&gt; &lt;!-- 弹窗内容 --&gt; &lt;view class=\"modal-content\"&gt; 弹窗内容。。。。。。 &lt;/view&gt;&lt;/view&gt; 我们再看看弹窗的js代码 1234567891011121314151617181920212223242526/** * 组件的属性列表 - 这里放置调用组件时需要传入值得数据 */properties: &#123; // 控制弹窗显示和隐藏得变量 popData: &#123; // 声明数据类型 type: Object, // 变量内容 value: &#123; isShow: true, &#125; &#125;&#125;,/** * 组件的方法列表 */methods: &#123; // 关闭弹窗事件 - 直接改变变量值即可 close() &#123; this.setData(&#123; \"popData.isShow\": false &#125;) &#125;&#125; 以上就是小程序调用弹窗组件后，需要在首页其他组件操作弹窗显示时，和弹窗自身关闭的所有逻辑","categories":[{"name":"web前端 - 功能重构","slug":"web前端-功能重构","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E5%8A%9F%E8%83%BD%E9%87%8D%E6%9E%84/"}],"tags":[{"name":"web前端","slug":"web前端","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF/"},{"name":"web前端 - 小程序","slug":"web前端-小程序","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF-%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"动画插件 lottie 使用","slug":"day3","date":"2020-08-01T13:30:30.000Z","updated":"2020-08-17T12:42:15.814Z","comments":true,"path":"2020/08/01/day3/","link":"","permalink":"http://yoursite.com/2020/08/01/day3/","excerpt":"","text":"AE 导出 json 动画文件 开发渲染动画首先我们需要动画师输出给我们一个 JSON 动画文件 然后我们的主角 lottie.js 要出场了 我们通过 npm i lottie-web -s 下载 lottie.js 下载完成后 我们就开始使用吧 html 代码块 1234567&lt;!-- 包含动画的dom元素 --&gt;&lt;div id=\"animation\"&gt;&lt;/div&gt;&lt;button class=\"stop\"&gt;停止&lt;/button&gt;&lt;button class=\"play\"&gt;播放&lt;/button&gt;&lt;button class=\"pause\"&gt;暂停&lt;/button&gt;&lt;!-- 引入lottie.js --&gt;&lt;script src=\"https://cdn.bootcdn.net/ajax/libs/lottie-web/5.7.0/lottie.js\"&gt;&lt;/script&gt; css 代码块 1234567891011121314* &#123; margin: 0; padding: 0;&#125;html,body &#123; width: 100%; height: 100%;&#125;#animation &#123; width: 100%; height: 100%; background: #666;&#125; js 代码块 1234567891011121314151617181920212223var icon = document.getElementById('animation')lottie.loadAnimation(&#123; container: icon, // 包含动画的dom元素 renderer: 'html', //渲染方式，有\"html\"、\"canvas\"和\"svg\"三种 loop: true, //循环播放 autoplay: true, //自动播放 path: '/json/01.json' // 动画json的路径&#125;)var stop = document.getElementsByClassName('stop')[0]var play = document.getElementsByClassName('play')[0]var pause = document.getElementsByClassName('pause')[0]// 停止动画stop.onclick = function() &#123; lottie.stop()&#125;// 播放动画play.onclick = function() &#123; lottie.play()&#125;// 暂停动画pause.onclick = function() &#123; lottie.pause()&#125; 操作实例 * {margin: 0;padding: 0;} html,body {width: 100%;height: 100%;} #animation {position: relative;width: 192px;height: 108px;background: #666;margin-bottom: 20px;} 停止 播放 暂停 var icon = document.getElementById('animation') lottie.loadAnimation({ container: icon, // 包含动画的dom元素 renderer: 'html', //渲染方式，有\"html\"、\"canvas\"和\"svg\"三种 loop: true, //循环播放 autoplay: true, //自动播放 path: '../json/03.json' // 动画json的路径 }) var stop = document.getElementsByClassName('stop')[0] var play = document.getElementsByClassName('play')[0] var pause = document.getElementsByClassName('pause')[0] // 停止动画 stop.onclick = function() { lottie.stop() } // 播放动画 play.onclick = function() { lottie.play() } // 暂停动画 pause.onclick = function() { lottie.pause() } 这就是最简单的渲染 json 动画 注 ：另外 canvas 渲染不支持 json 动画中包含文字 所以 json 动画文件中如果有文字请谨慎使用","categories":[{"name":"web前端 - 插件学习","slug":"web前端-插件学习","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%8F%92%E4%BB%B6%E5%AD%A6%E4%B9%A0/"},{"name":"web前端 - 案例实现","slug":"web前端-插件学习/web前端-案例实现","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%8F%92%E4%BB%B6%E5%AD%A6%E4%B9%A0/web%E5%89%8D%E7%AB%AF-%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0/"}],"tags":[{"name":"web前端","slug":"web前端","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF/"},{"name":"web前端 - js","slug":"web前端-js","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF-js/"}]},{"title":"vue v-for 后 图片不显示解决方法","slug":"day5","date":"2019-08-07T08:59:19.000Z","updated":"2020-07-25T10:34:47.644Z","comments":true,"path":"2019/08/07/day5/","link":"","permalink":"http://yoursite.com/2019/08/07/day5/","excerpt":"","text":"vue v-for 后 图片不显示解决方法123456&lt;ul class=\"new-item\" v-for=\"item in lists\" :key=\"item\"&gt; &lt;li class=\"new-item-img\"&gt; &lt;img :src=\"item.images\" alt&gt; &lt;/li&gt; &lt;li&gt;&#123;&#123;item.text&#125;&#125;&lt;/li&gt;&lt;/ul&gt; 第一种解决方法 直接在 lists 中利用 require 语句 12345678910lists: [ &#123; images: require('@/assets/img/index1.jpg'), text: '这是文本' &#125;, &#123; images: require('@/assets/img/index2.jpg'), text: '这是文本' &#125;,], 第二种解决方法 先要引入图片 123// 引入图片import news_img from \"@/assets/img/index1.jpg\";import new_img from \"@/assets/img/index2.jpg\"; 然后直接用变量的方式写在 lists 中 12345678910lists: [ &#123; images: news_img, text: '这是文本' &#125;, &#123; images: new_img from, text: '这是文本' &#125;,], 第三种方法 在项目目录下新建静态文件夹 public 将图片文件放在该目录下的 img 文件夹 之后就可以直接引用图片了 注意引入时路径不要错了 12345678910lists: [ &#123; images:/img/index1.jpg, text: '这是文本' &#125;, &#123; images: /img/index1.jpg, text: '这是文本' &#125;,],","categories":[{"name":"web前端 - 文章介绍","slug":"web前端-文章介绍","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%96%87%E7%AB%A0%E4%BB%8B%E7%BB%8D/"}],"tags":[{"name":"web前端","slug":"web前端","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF/"},{"name":"web前端 - vue","slug":"web前端-vue","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF-vue/"}]},{"title":"关于 CSS margin，你需要知道的一切","slug":"day2","date":"2019-07-31T05:14:52.000Z","updated":"2020-06-30T04:15:56.890Z","comments":true,"path":"2019/07/31/day2/","link":"","permalink":"http://yoursite.com/2019/07/31/day2/","excerpt":"","text":"原文：https://juejin.im/post/5d40dc46e51d4561cf15df4a 转载：Hani 简介margin 看起来是一个相当简单的事情，但是，在本文中，咱们将看一些在使用 margin 一些让人迷惑有有趣的事情。 特别是，margin 之间如何相互作用，以及 margin 重叠效果。 margin 重叠margin 重叠意味着，当一个有底部 margin 的标题后面跟着一个有顶部 margin 的段落时，它们之间就不会出现较大的空白。 当两个 margin 发生重叠时，它们将组合在一起，两个元素之间的空间取较大的一个。 较小的 margin 在较大的里面。 在以下情况下，margin 会重叠： 相邻的兄弟姐妹 完全空盒子 父元素和第一个或最后一个子元素 依次来看看这些场景。 相邻的兄弟姐妹对 margin 重叠的最初描述是演示相邻兄弟姐妹之间的 margin 是如何重叠的。除了下面提到的情况之外，如果有两个元素在正常流中依次显示，那么第一个元素的底部 margin 将与下面元素的顶部 margin 一起重叠。 在下面示例中，有三个 div 元素。第一个 div 的顶部和底部的 margin 都是 50px。第二个 div 的顶部和底部 margin 都是 20px。第三个 div 的顶部和底部 margin 都是 3em。前两个元素之间的 margin 是 50px，因为较小的顶部 margin 与较大的底部 margin 相结合。第二个元素与第三个元素之间的 margin 是 3em，因为 3em 大于第二个元素底部 margin 20px。 html1234567891011&lt;div class=\"wrapper\"&gt; &lt;div class=\"box example1\"&gt; margin-top: 50px; margin-bottom: 50px; &lt;/div&gt; &lt;div class=\"box example2\"&gt; margin-top: 20px; margin-bottom: 20px; &lt;/div&gt; &lt;div class=\"box example3\"&gt; margin-top: 3em; margin-bottom: 3em; &lt;/div&gt;&lt;/div&gt; css123456789101112131415161718.wrapper &#123; border: 5px dotted black;&#125;.example1 &#123; margin: 50px 0 50px 0;&#125;.example2 &#123; margin: 20px 0 20px 0;&#125;.example3 &#123; margin: 3em 0 3em 0;&#125;.box &#123; background-color: rgb(55, 55, 110); color: white; padding: 20px; border-radius: 0.5em;&#125; 运行结果 .day2-wrapper { border: 5px dotted black; } .example1 { margin: 50px 0 50px 0; } .example2 { margin: 20px 0 20px 0; } .example3 { margin: 3em 0 3em 0; } .day2-box { background-color: rgba(0,0,0,0.2); color: white; padding: 20px; border-radius: 0.5em; } margin-top: 50px; margin-bottom: 50px; margin-top: 20px; margin-bottom: 20px; margin-top: 3em; margin-bottom: 3em; 完全空盒子如果一个盒子是空的，那么它的顶部和底部 margin 可能会相互重叠。在下面的示例中，class 为 empty 的元素的顶部和底部 margin 各为 50px，但是，第一项和第三项之间的 margin 不是 100px，而是 50px。这是由于两个 margin 重叠造成的。如果向空盒子中放入内容就会阻止 margin 合并。 html123456789&lt;div class=\"wrapper\"&gt; &lt;div class=\"box\"&gt; A box &lt;/div&gt; &lt;div class=\"box empty\"&gt;&lt;/div&gt; &lt;div class=\"box\"&gt; Another box &lt;/div&gt;&lt;/div&gt; css1234567891011.wrapper &#123; border: 5px dotted black;&#125;.box &#123; background-color: rgba(0,0,0,0.2); color: white; border-radius: 0.5em;&#125;.empty &#123; margin: 50px 0 50px 0;&#125; 运行效果 A box Another box .day2-wrapper2 { border: 5px dotted black; } .bay2-box2 { background-color: rgba(0,0,0,0.2); color: white; border-radius: .5em; } .empty { margin: 50px 0 50px 0; } 父元素和第一个或最后一个子元素margin 重叠让人猝不及防，因为它有时候不是很直观。在下面的示例中，有一个类名为 wrapper 的 div，给这个 div 一个红色的 outline，这样就可以看到它在哪里了。 这个 div 里面的三个子元素的 margin 都是 50px。但是你会发现实际的效果是第一项和最后一项与父元素的的 margin 齐平，好像子元素和父元素之间没有 50px 的 margin 一样。 html1234567891011&lt;div class=\"wrapper\"&gt; &lt;div class=\"box\"&gt; Item 1 &lt;/div&gt; &lt;div class=\"box\"&gt; Item 2 &lt;/div&gt; &lt;div class=\"box\"&gt; Item 3 &lt;/div&gt;&lt;/div&gt; css1234567891011121314.wrapper &#123; outline: 1px solid #bebeb9;&#125;.box &#123; margin: 50px;&#125;.box &#123; background-color: rgb(55, 55, 110); color: white; padding: 20px; border-radius: 0.5em;&#125; 运行效果 Item 1 Item 2 Item 3 * { box-sizing: border-box; } .day2-wrapper3 { outline: 1px solid #bebeb9; } .day2-box3 { margin: 50px; } .day2-box3 { background-color: rgba(0,0,0,0.2); color: white; padding: 20px; border-radius: .5em; } 这是因为子节点上的 margin 会随着父节点上的任何一边的 margin 相互重叠，从而最终位于父节点的外部。如果使用 DevTools 检查第一个子元素，就可以看到这一点，显示的黄色区域就是是 margin。 仅块元素 margin 重叠html1234&lt;div class=\"wrap\"&gt; &lt;span class=\"day2-box4\"&gt;Item 1&lt;/span&gt; &lt;span class=\"day2-box4\"&gt;Item 2&lt;/span&gt;&lt;/div&gt; css123456789101112.wrap &#123; outline: 1px solid #bebeb9;&#125;.day2-box4 &#123; width: 86%; display: inline-block; background-color: rgb(55, 55, 110); color: white; padding: 20px; border-radius: 0.5em; margin: 20px;&#125; 运行效果 Item 1 Item 2 .wrap{ outline: 1px solid #bebeb9; } .day2-box4{ width: 86%; display: inline-block; background-color: rgba(0,0,0,0.2); color: white; padding: 20px; border-radius: .5em; margin: 20px; } 阻止 margin 重叠常规 绝对的定位 浮动 flex grid 完全为空的盒子 如果它有 border 或 padding，它的上下 margin 就不会重叠。 我们将上面的空盒子的代码扒下来 加个 border 属性看看执行结果 html123456789&lt;div class=\"wrapper\"&gt; &lt;div class=\"box\"&gt; A box &lt;/div&gt; &lt;div class=\"box empty empty1\"&gt;&lt;/div&gt; &lt;div class=\"box\"&gt; Another box &lt;/div&gt;&lt;/div&gt; css1234567891011121314.wrapper &#123; border: 5px dotted black;&#125;.box &#123; background-color: rgb(55, 55, 110); color: white; border-radius: 0.5em;&#125;.empty &#123; margin: 50px 0 50px 0;&#125;.empty1 &#123; border: 1px solid rgb(55, 55, 110);&#125; 运行效果 A box Another box .day2-wrapper2 { border: 5px dotted black; } .bay2-box2 { background-color: rgba(0,0,0,0.2); color: white; border-radius: .5em; } .empty { margin: 50px 0 50px 0; } .empty1 { border: 1px solid rgb(55,55,110); } 添加了 border 后我们发现 margin 生效了这背后是有逻辑，如果盒子是完全空的，没有 border 或 padding，它基本上是不可见的。 它可能是 CMS 中标记为空的段落元素。 如果你的 CMS 添加了多余的段落元素，你可能不希望它们在其他段落之间造成较大的空白，这时 margin 重叠就有一定的意义。 父元素和第一个或最后一个子元素 如果我们向父级添加 border，则子级上的 margin 会保留在内部。 我们将上面的父元素和第一个或最后一个子元素的代码扒下来 加个 border 属性看看执行结果 html1234567891011&lt;div class=\"wrapper wrapper-1\"&gt; &lt;div class=\"box\"&gt; Item 1 &lt;/div&gt; &lt;div class=\"box\"&gt; Item 2 &lt;/div&gt; &lt;div class=\"box\"&gt; Item 3 &lt;/div&gt;&lt;/div&gt; css12345678910111213.wrapper &#123; outline: 1px solid #bebeb9;&#125;.wrapper-1 &#123; border: 5px dotted #bebeb9;&#125;.box &#123; background-color: rgb(55, 55, 110); color: white; padding: 20px; border-radius: 0.5em; margin: 50px;&#125; 运行效果 Item 1 Item 2 Item 3 .day2-wrapper3 { outline: 1px solid #bebeb9; } .day2-wrapper3-1 { border: 5px dotted #bebeb9 ; } .day2-box3 { margin: 50px; } .day2-box3 { background-color: rgba(0,0,0,0.2); color: white; padding: 20px; border-radius: .5em; } 添加了 border 后我们发现 margin 再次生效了同样，这种行为也有一定的逻辑。如果出于语义目的而对元素进行包装，但这些元素不显示在屏幕上，那么你可能不希望它们在显示中引入大的 margin。当 web 主要是文本时，这很有意义。当我们使用元素来布局设计时，它的重叠行为就没有多大的意义了。 BFC（Block Formatting Context）格式化上下文BFC（Block Formatting Context）格式化上下文，是 Web 页面中盒模型布局的 CSS 渲染模式，指一个独立的渲染区域或者说是一个隔离的独立容器。 BFC 可以阻止边距的重叠。 如果我们再看父元素和第一个或最后一个子元素的示例，可以在 wrapper 元素加上 display: flow-root 就会创建一个新的 BFC，从而阻止 margin 合并 html1234567891011&lt;div class=\"wrapper wrapper-2\"&gt; &lt;div class=\"box\"&gt; Item 1 &lt;/div&gt; &lt;div class=\"box\"&gt; Item 2 &lt;/div&gt; &lt;div class=\"box\"&gt; Item 3 &lt;/div&gt;&lt;/div&gt; css12345678910111213.wrapper &#123; outline: 1px solid #bebeb9;&#125;.wrapper-2 &#123; display: flow-root;&#125;.box &#123; background-color: rgb(55, 55, 110); color: white; padding: 20px; border-radius: 0.5em; margin: 50px;&#125; 运行效果 Item 1 Item 2 Item 3 .day2-wrapper3 { outline: 1px solid #bebeb9; } .day2-wrapper3-2 { display: flow-root; } .day2-box3 { margin: 50px; } .day2-box3 { background-color: rgba(0,0,0,0.2); color: white; padding: 20px; border-radius: .5em; }","categories":[{"name":"web前端 - 文章介绍","slug":"web前端-文章介绍","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%96%87%E7%AB%A0%E4%BB%8B%E7%BB%8D/"}],"tags":[{"name":"web前端","slug":"web前端","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF/"}]},{"title":"尝试添加在博客中添加demo","slug":"day1","date":"2019-07-30T05:14:52.000Z","updated":"2020-06-30T04:15:56.889Z","comments":true,"path":"2019/07/30/day1/","link":"","permalink":"http://yoursite.com/2019/07/30/day1/","excerpt":"","text":".day1-btn {display: block;width: 160px;height: 36px;background: #666;text-align: center;line-height: 36px;color: #fff;order-radius: 4px;margin: 20px auto;cursor: pointer;user-select: none;} /* 按钮样式 */ .day4-box {width: 100%;height: 200px;background: rgb(150, 116, 179);transition: height 0.6s;} /* 案例四样式 */ .day4-box-hide {height: 0;} 点击显示隐藏 // 案例四 var case4btn = document.getElementById('case4-btn') var day4box = document.getElementsByClassName('day4-box') // 点击隐藏 case4btn.onclick = function () { // 点击 .day4-box 判断是否拥有 day4-box-hide 这个类名 if (day4box[0].classList.contains('day4-box-hide')) { // 如果有就移除 day4box[0].classList.remove('day4-box-hide') } else { // 如果没有就添加 day4box[0].classList.add('day4-box-hide') } }","categories":[{"name":"web前端 - 案例实现","slug":"web前端-案例实现","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0/"}],"tags":[{"name":"web前端","slug":"web前端","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-07-30T05:14:52.000Z","updated":"2020-06-30T04:15:56.891Z","comments":true,"path":"2019/07/30/hello-world/","link":"","permalink":"http://yoursite.com/2019/07/30/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"web前端 - 功能重构","slug":"web前端-功能重构","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E5%8A%9F%E8%83%BD%E9%87%8D%E6%9E%84/"},{"name":"web前端 - 插件学习","slug":"web前端-插件学习","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%8F%92%E4%BB%B6%E5%AD%A6%E4%B9%A0/"},{"name":"web前端 - 案例实现","slug":"web前端-插件学习/web前端-案例实现","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%8F%92%E4%BB%B6%E5%AD%A6%E4%B9%A0/web%E5%89%8D%E7%AB%AF-%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0/"},{"name":"web前端 - 文章介绍","slug":"web前端-文章介绍","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%96%87%E7%AB%A0%E4%BB%8B%E7%BB%8D/"},{"name":"web前端 - 案例实现","slug":"web前端-案例实现","permalink":"http://yoursite.com/categories/web%E5%89%8D%E7%AB%AF-%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0/"}],"tags":[{"name":"web前端","slug":"web前端","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF/"},{"name":"web前端 - 小程序","slug":"web前端-小程序","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF-%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"web前端 - js","slug":"web前端-js","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF-js/"},{"name":"web前端 - vue","slug":"web前端-vue","permalink":"http://yoursite.com/tags/web%E5%89%8D%E7%AB%AF-vue/"}]}